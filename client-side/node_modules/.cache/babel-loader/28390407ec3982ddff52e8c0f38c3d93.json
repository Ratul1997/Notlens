{"ast":null,"code":"var _jsxFileName = \"/home/rat/Desktop/Diligite/Games/Design/notlens/src/component/Modals/PhoneNumberModal.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from \"react\";\nimport { history } from \"../../history/history\";\nimport firebase from \"../../firebase/firbase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PhoneNumberModal() {\n  _s();\n\n  const initialState = {\n    phoneNumber: \"\",\n    password: \"\"\n  };\n  const [state, setState] = useState(initialState);\n  const [submit, setSubmit] = useState(false);\n  const [error, setError] = useState(false); // useEffect(() => {\n  //   window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\n  //     \"recaptcha-container\",\n  //     {\n  //       size: \"invisible\"\n  //       // other options\n  //     }\n  //   );\n  // }, []);\n\n  const phoneAuth = () => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\"recaptcha-container\", {\n      size: \"invisible\",\n      callback: response => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        onSignInSubmit();\n      }\n    });\n  };\n\n  const onSignInSubmit = () => {\n    const phoneNumber = state.phoneNumber;\n    const appVerifier = window.recaptchaVerifier;\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier).then(confirmationResult => {\n      // SMS sent. Prompt user to type the code from the message, then sign the\n      // user in with confirmationResult.confirm(code).\n      window.confirmationResult = confirmationResult; // ...\n\n      console.log(confirmationResult);\n    }).catch(error => {\n      // Error; SMS not sent\n      // ...\n      console.log(error);\n    });\n  };\n\n  const handleClick = e => {\n    // console.log(e);\n    e.preventDefault();\n    setSubmit(true);\n    const {\n      phoneNumber,\n      password\n    } = state;\n\n    if (phoneNumber.length === 11 && password.length >= 6) {\n      phoneAuth();\n    } else {\n      console.log(error);\n      setError(true);\n    }\n  };\n\n  const onChangeText = e => {\n    console.log(e.target.name);\n    const {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n    setSubmit(false);\n    setError(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        styles: \"display: block;\",\n        id: \"myModal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"modal_heading_img mx-auto d-block img-fluid\",\n                src: \"./images/gaming.png\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [submit && error && /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"text-danger\",\n                  children: \"11 digits Phone number or Password should be minimum 6 character long\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"phone\",\n                    children: \"Phone:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"form-control\",\n                    id: \"phone\",\n                    placeholder: \"Enter Phone\",\n                    name: \"phoneNumber\",\n                    value: state.phoneNumber,\n                    onChange: onChangeText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"password\",\n                    children: \"Password:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: \"form-control\",\n                    id: \"password\",\n                    placeholder: \"Enter Phone\",\n                    name: \"password\",\n                    value: state.password,\n                    onChange: onChangeText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              styles: \"justify-content: center;\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleClick,\n                id: \"recaptcha-container\",\n                className: \"btn btn-primary float-left\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(PhoneNumberModal, \"U+d1CzjJKAGb7vwO4/HOlDXxyVM=\");\n\n_c = PhoneNumberModal;\nexport default PhoneNumberModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhoneNumberModal\");","map":{"version":3,"sources":["/home/rat/Desktop/Diligite/Games/Design/notlens/src/component/Modals/PhoneNumberModal.jsx"],"names":["React","useState","useEffect","history","firebase","PhoneNumberModal","initialState","phoneNumber","password","state","setState","submit","setSubmit","error","setError","phoneAuth","window","recaptchaVerifier","auth","RecaptchaVerifier","size","callback","response","onSignInSubmit","appVerifier","signInWithPhoneNumber","then","confirmationResult","console","log","catch","handleClick","e","preventDefault","length","onChangeText","target","name","value"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from \"react\";\nimport { history } from \"../../history/history\";\nimport firebase from \"../../firebase/firbase\";\nfunction PhoneNumberModal() {\n  const initialState = {\n    phoneNumber: \"\",\n    password: \"\"\n  };\n  const [state, setState] = useState(initialState);\n  const [submit, setSubmit] = useState(false);\n  const [error, setError] = useState(false);\n\n  // useEffect(() => {\n  //   window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\n  //     \"recaptcha-container\",\n  //     {\n  //       size: \"invisible\"\n  //       // other options\n  //     }\n  //   );\n  // }, []);\n\n  const phoneAuth = () => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\n      \"recaptcha-container\",\n      {\n        size: \"invisible\",\n        callback: response => {\n          // reCAPTCHA solved, allow signInWithPhoneNumber.\n          onSignInSubmit();\n        }\n      }\n    );\n  };\n  const onSignInSubmit = () => {\n    const phoneNumber = state.phoneNumber;\n    const appVerifier = window.recaptchaVerifier;\n    firebase\n      .auth()\n      .signInWithPhoneNumber(phoneNumber, appVerifier)\n      .then(confirmationResult => {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        window.confirmationResult = confirmationResult;\n        // ...\n        console.log(confirmationResult);\n      })\n      .catch(error => {\n        // Error; SMS not sent\n        // ...\n        console.log(error);\n      });\n  };\n  const handleClick = e => {\n    // console.log(e);\n    e.preventDefault();\n\n    setSubmit(true);\n    const { phoneNumber, password } = state;\n\n    if (phoneNumber.length === 11 && password.length >= 6) {\n      phoneAuth();\n    } else {\n      console.log(error);\n      setError(true);\n    }\n  };\n\n  const onChangeText = e => {\n    console.log(e.target.name);\n    const { name, value } = e.target;\n\n    setState({\n      ...state,\n      [name]: value\n    });\n    setSubmit(false);\n    setError(false);\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"\" styles=\"display: block;\" id=\"myModal\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <img\n                  className=\"modal_heading_img mx-auto d-block img-fluid\"\n                  src=\"./images/gaming.png\"\n                  alt=\"\"\n                />\n              </div>\n\n              <div className=\"modal-body\">\n                <form>\n                  {submit && error && (\n                    <p class=\"text-danger\">\n                      11 digits Phone number or Password should be minimum 6\n                      character long\n                    </p>\n                  )}\n                  <div className=\"form-group\">\n                    <label for=\"phone\">Phone:</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      id=\"phone\"\n                      placeholder=\"Enter Phone\"\n                      name=\"phoneNumber\"\n                      value={state.phoneNumber}\n                      onChange={onChangeText}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label for=\"password\">Password:</label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      id=\"password\"\n                      placeholder=\"Enter Phone\"\n                      name=\"password\"\n                      value={state.password}\n                      onChange={onChangeText}\n                    />\n                  </div>\n                </form>\n              </div>\n\n              <div className=\"modal-footer\" styles=\"justify-content: center;\">\n                <button\n                  onClick={handleClick}\n                  id=\"recaptcha-container\"\n                  className=\"btn btn-primary float-left\"\n                >\n                  Submit\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default PhoneNumberModal;\n"]},"metadata":{},"sourceType":"module"}